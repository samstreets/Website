<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UUID Generator - Streets Services</title>
    <link rel="icon" type="image/png" href="pictures/icon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <img src="pictures/icon.png" alt="Streets Services Icon" class="header-icon" width="40" height="40">
            <h1>UUID Generator</h1>
        </div>
        <p class="tagline">Generate Unique Identifiers</p>
    </header>

    <main class="container">
        <a href="index.html" class="back-link"><span>←</span> <span>Back to Home</span></a>

        <section class="content-section">
            <div class="section-header" onclick="toggleSection('generator-content')">
                <h2>UUID Generator</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div id="generator-content" class="section-content active">
                <div class="calculator-container">
                    <div class="result-display" id="uuid" onclick="copyUUID()" style="cursor: pointer; font-family: 'Courier New', monospace; word-break: break-all;">Click Generate</div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
                        <label style="display: flex; flex-direction: column; gap: 0.5rem;">
                            <span style="color: var(--text-secondary); font-size: 0.9rem;">Version</span>
                            <select id="version" style="padding: 0.75rem; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: var(--radius-sm);">
                                <option value="4">v4 (Random)</option>
                                <option value="1">v1 (Time-based)</option>
                            </select>
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem;">
                            <input type="checkbox" id="uppercase"> Uppercase
                        </label>
                        <label style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem;">
                            <input type="checkbox" id="hyphens" checked> Hyphens
                        </label>
                    </div>

                    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                        <button class="generator-button" onclick="generate()" style="flex: 1;">Generate UUID</button>
                        <button class="generator-button" onclick="copyUUID()" style="flex: 1;">Copy</button>
                    </div>

                    <label style="display: flex; flex-direction: column; gap: 0.5rem; margin-bottom: 1rem;">
                        <span style="color: var(--text-secondary); font-size: 0.9rem;">Bulk Generate</span>
                        <div style="display: flex; gap: 1rem;">
                            <input type="number" id="bulkCount" min="1" max="100" value="10" style="flex: 1; padding: 0.75rem; background: var(--bg-dark); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: var(--radius-sm);">
                            <button class="generator-button" onclick="generateBulk()">Generate Bulk</button>
                        </div>
                    </label>

                    <div id="bulkList" style="display: none; margin-top: 1rem;">
                        <div style="color: var(--accent-color); margin-bottom: 0.5rem; font-weight: 600;">Generated UUIDs:</div>
                        <div id="list" style="max-height: 300px; overflow-y: auto; background: var(--bg-dark); border: 1px solid var(--border-color); border-radius: var(--radius-sm); padding: 1rem;"></div>
                        <button class="generator-button" onclick="copyAll()" style="width: 100%; margin-top: 1rem;">Copy All</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script>
        function uuidv4() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
                const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function format(uuid) {
            if (!document.getElementById('hyphens').checked) uuid = uuid.replace(/-/g, '');
            if (document.getElementById('uppercase').checked) uuid = uuid.toUpperCase();
            return uuid;
        }

        function generate() {
            const uuid = format(uuidv4());
            document.getElementById('uuid').textContent = uuid;
        }

        function copyUUID() {
            const text = document.getElementById('uuid').textContent;
            if (text && !text.includes('Click')) {
                navigator.clipboard.writeText(text);
                const el = document.getElementById('uuid');
                const orig = el.textContent;
                el.textContent = '✓ Copied!';
                setTimeout(() => el.textContent = orig, 1500);
            }
        }

        function generateBulk() {
            const count = parseInt(document.getElementById('bulkCount').value);
            const list = Array.from({length: count}, () => format(uuidv4()));
            document.getElementById('list').innerHTML = list.map(u => 
                `<div style="padding: 0.5rem; margin-bottom: 0.25rem; background: var(--bg-card); border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.9rem; cursor: pointer;" onclick="navigator.clipboard.writeText('${u}')">${u}</div>`
            ).join('');
            document.getElementById('bulkList').style.display = 'block';
        }

        function copyAll() {
            const uuids = Array.from(document.querySelectorAll('#list div')).map(d => d.textContent).join('\n');
            navigator.clipboard.writeText(uuids);
            event.target.textContent = '✓ Copied All';
            setTimeout(() => event.target.textContent = 'Copy All', 2000);
        }

        function toggleSection(id) {
            document.getElementById(id).classList.toggle('active');
            event.currentTarget.classList.toggle('collapsed');
        }

        generate();
    </script>
</body>
</html>
