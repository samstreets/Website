<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Play Rock Paper Scissors against the computer with score tracking.">
    <meta property="og:title" content="Rock Paper Scissors - Streets Services">
    <meta property="og:description" content="Play Rock Paper Scissors against the computer. Track your wins, losses and draws.">
    <meta property="og:image" content="https://streetsservices.co.uk/pictures/icon.png">
    <meta property="og:url" content="https://streetsservices.co.uk/rock-paper-scissors.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <title>Rock Paper Scissors - Streets Services</title>
    <link rel="icon" type="image/png" href="../pictures/icon.png">
    <link rel="stylesheet" href="../styles.css">
    <style>
        .rps-arena { display:grid;grid-template-columns:1fr auto 1fr;gap:1rem;align-items:center;margin:1.5rem 0; }
        .player-side, .cpu-side { background:var(--bg-dark);border-radius:var(--radius-lg);padding:1.5rem;text-align:center;border:2px solid var(--border-color);transition:border-color var(--transition-base); }
        .player-side.win-glow { border-color:#10b981;box-shadow:0 0 20px rgba(16,185,129,0.3); }
        .player-side.lose-glow { border-color:#ef4444;box-shadow:0 0 20px rgba(239,68,68,0.3); }
        .side-label { color:var(--text-secondary);font-size:0.875rem;margin-bottom:0.75rem;font-weight:600; }
        .choice-display { font-size:5rem;line-height:1;min-height:80px;display:flex;align-items:center;justify-content:center;transition:all 0.3s ease; }
        .choice-display.pop { animation:choicePop 0.4s ease; }
        @keyframes choicePop { 0%{transform:scale(0.5);opacity:0;} 70%{transform:scale(1.2);} 100%{transform:scale(1);opacity:1;} }
        .vs-badge { background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));padding:1rem;border-radius:50%;color:white;font-weight:700;font-size:1.2rem;text-align:center;width:60px;height:60px;display:flex;align-items:center;justify-content:center; }
        .choice-buttons { display:flex;gap:1rem;justify-content:center;margin:1rem 0;flex-wrap:wrap; }
        .choice-btn { background:var(--bg-dark);border:3px solid var(--border-color);border-radius:var(--radius-lg);padding:1.25rem;font-size:3rem;cursor:pointer;transition:all var(--transition-base);min-width:100px;text-align:center; }
        .choice-btn:hover { border-color:var(--primary-color);transform:scale(1.1);box-shadow:0 8px 20px rgba(59,130,246,0.3); }
        .choice-btn:active { transform:scale(0.95); }
        .result-banner { padding:1.25rem;border-radius:var(--radius-md);text-align:center;font-size:1.5rem;font-weight:700;margin-top:1rem;transition:all 0.3s ease;display:none; }
        .result-banner.show { display:block;animation:fadeIn 0.3s ease; }
        .result-win  { background:linear-gradient(135deg,#10b981,#059669);color:white; }
        .result-lose { background:linear-gradient(135deg,#ef4444,#dc2626);color:white; }
        .result-draw { background:linear-gradient(135deg,#f59e0b,#d97706);color:white; }
        .score-grid { display:grid;grid-template-columns:1fr 1fr 1fr;gap:1rem; }
        .score-box { padding:1.25rem;border-radius:var(--radius-md);text-align:center; }
        .score-box.win-box  { background:linear-gradient(135deg,#10b981,#059669);color:white; }
        .score-box.draw-box { background:var(--bg-dark);border:2px solid var(--border-color); }
        .score-box.lose-box { background:linear-gradient(135deg,#ef4444,#dc2626);color:white; }
        .score-num { font-size:3rem;font-weight:700;line-height:1;font-family:'Courier New',monospace; }
        .score-lbl { font-size:0.85rem;opacity:0.9;margin-top:0.25rem; }
        .draw-box .score-num { color:var(--accent-color); }
        .draw-box .score-lbl { color:var(--text-secondary); }
        .history-row { display:flex;align-items:center;gap:1rem;padding:0.5rem 0;border-bottom:1px solid var(--border-color);font-size:0.9rem; }
        .history-row:last-child { border-bottom:none; }
        .hist-outcome { font-weight:700;min-width:60px; }
        .hist-outcome.win  { color:#10b981; }
        .hist-outcome.lose { color:#ef4444; }
        .hist-outcome.draw { color:#f59e0b; }
        @media (max-width:600px) { .rps-arena{grid-template-columns:1fr;} .vs-badge{margin:0 auto;} }
    </style>
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <img src="../pictures/icon.png" alt="Streets Services Icon" class="header-icon" width="28" height="28">
            <h1>Rock Paper Scissors</h1>
        </div>
        <p class="tagline">You vs The Computer</p>
    </header>

    <main class="container">
        <a href="../index.html" class="back-link"><span aria-hidden="true">‚Üê</span><span>Back to Home</span></a>

        <section class="content-section">
            <div class="section-header" onclick="toggleSection('game-content')">
                <h2>Play!</h2>
                <span class="toggle-icon" aria-hidden="true">‚ñº</span>
            </div>
            <div id="game-content" class="section-content active">
                <div class="calculator-container">
                    <div class="rps-arena">
                        <div class="player-side" id="player-side">
                            <div class="side-label">You</div>
                            <div class="choice-display" id="player-choice">‚ùì</div>
                        </div>
                        <div class="vs-badge">VS</div>
                        <div class="cpu-side" id="cpu-side">
                            <div class="side-label">Computer</div>
                            <div class="choice-display" id="cpu-choice">‚ùì</div>
                        </div>
                    </div>

                    <p style="text-align:center;color:var(--text-secondary);margin-bottom:0.5rem;">Make your choice:</p>
                    <div class="choice-buttons">
                        <button class="choice-btn" onclick="play('rock')"    title="Rock">ü™®</button>
                        <button class="choice-btn" onclick="play('paper')"   title="Paper">üìÑ</button>
                        <button class="choice-btn" onclick="play('scissors')" title="Scissors">‚úÇÔ∏è</button>
                    </div>

                    <div id="result-banner" class="result-banner"></div>
                </div>
            </div>
        </section>

        <section class="content-section">
            <div class="section-header" onclick="toggleSection('score-content')">
                <h2>Score</h2>
                <span class="toggle-icon" aria-hidden="true">‚ñº</span>
            </div>
            <div id="score-content" class="section-content active">
                <div class="score-grid">
                    <div class="score-box win-box">
                        <div class="score-num" id="wins">0</div>
                        <div class="score-lbl">Wins üèÜ</div>
                    </div>
                    <div class="score-box draw-box">
                        <div class="score-num" id="draws">0</div>
                        <div class="score-lbl">Draws ü§ù</div>
                    </div>
                    <div class="score-box lose-box">
                        <div class="score-num" id="losses">0</div>
                        <div class="score-lbl">Losses üòî</div>
                    </div>
                </div>
                <div style="margin-top:1rem;text-align:center;color:var(--text-secondary);font-size:0.9rem;" id="win-rate"></div>
                <button class="generator-button" onclick="resetScore()" style="margin-top:1rem;max-width:none;background:linear-gradient(135deg,#ef4444,#dc2626);">Reset Score</button>
            </div>
        </section>

        <section class="content-section">
            <div class="section-header" onclick="toggleSection('hist-content')">
                <h2>Match History</h2>
                <span class="toggle-icon" aria-hidden="true">‚ñº</span>
            </div>
            <div id="hist-content" class="section-content">
                <div id="history-list" style="max-height:300px;overflow-y:auto;">
                    <p style="color:var(--text-secondary);text-align:center;padding:1rem;">Play some rounds to see your history!</p>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <p>&copy; 2026 Sam Streets. All rights reserved.</p>
    </footer>

    <script src="../app.js"></script>
    <script>
        const EMOJIS = { rock:'ü™®', paper:'üìÑ', scissors:'‚úÇÔ∏è' };
        const CHOICES = ['rock', 'paper', 'scissors'];
        const BEATS = { rock:'scissors', paper:'rock', scissors:'paper' };
        let wins = 0, draws = 0, losses = 0, playing = false;
        const matchHistory = [];

        function play(playerChoice) {
            if (playing) return;
            playing = true;

            const cpuChoice = CHOICES[Math.floor(Math.random() * 3)];
            const playerEl = document.getElementById('player-choice');
            const cpuEl    = document.getElementById('cpu-choice');
            const banner   = document.getElementById('result-banner');
            const pSide    = document.getElementById('player-side');
            const cSide    = document.getElementById('cpu-side');

            playerEl.textContent = '‚ùì'; cpuEl.textContent = '‚ùì';
            playerEl.classList.remove('pop'); cpuEl.classList.remove('pop');
            banner.className = 'result-banner';
            pSide.className = 'player-side'; cSide.className = 'cpu-side';

            setTimeout(() => {
                playerEl.textContent = EMOJIS[playerChoice];
                playerEl.classList.add('pop');
                cpuEl.textContent = EMOJIS[cpuChoice];
                cpuEl.classList.add('pop');

                let outcome, msg;
                if (playerChoice === cpuChoice) {
                    outcome = 'draw'; msg = 'ü§ù Draw! Great minds think alike.';
                    draws++;
                } else if (BEATS[playerChoice] === cpuChoice) {
                    outcome = 'win'; msg = `üéâ You Win! ${playerChoice.charAt(0).toUpperCase() + playerChoice.slice(1)} beats ${cpuChoice}!`;
                    wins++; pSide.classList.add('win-glow'); cSide.classList.add('lose-glow');
                } else {
                    outcome = 'lose'; msg = `üòî You Lose! ${cpuChoice.charAt(0).toUpperCase() + cpuChoice.slice(1)} beats ${playerChoice}!`;
                    losses++; cSide.classList.add('win-glow'); pSide.classList.add('lose-glow');
                }

                banner.textContent = msg;
                banner.className = 'result-banner show result-' + outcome;
                updateScore();
                matchHistory.unshift({ player: playerChoice, cpu: cpuChoice, outcome });
                if (matchHistory.length > 50) matchHistory.pop();
                renderHistory();
                playing = false;
            }, 400);
        }

        function updateScore() {
            const total = wins + draws + losses;
            document.getElementById('wins').textContent   = wins;
            document.getElementById('draws').textContent  = draws;
            document.getElementById('losses').textContent = losses;
            document.getElementById('win-rate').textContent = total ? `Win rate: ${Math.round(wins / total * 100)}% over ${total} game${total !== 1 ? 's' : ''}` : '';
        }

        function renderHistory() {
            const colors = { win:'#10b981', draw:'#f59e0b', lose:'#ef4444' };
            document.getElementById('history-list').innerHTML = matchHistory.map(m =>
                `<div class="history-row">
                    <span class="hist-outcome ${m.outcome}">${m.outcome.toUpperCase()}</span>
                    <span>${EMOJIS[m.player]} vs ${EMOJIS[m.cpu]}</span>
                    <span style="color:var(--text-secondary);font-size:0.8rem;">${m.player} vs ${m.cpu}</span>
                </div>`
            ).join('');
        }

        function resetScore() {
            wins = draws = losses = 0;
            matchHistory.length = 0;
            updateScore();
            renderHistory();
            document.getElementById('result-banner').className = 'result-banner';
            document.getElementById('player-choice').textContent = '‚ùì';
            document.getElementById('cpu-choice').textContent = '‚ùì';
            document.getElementById('player-side').className = 'player-side';
            document.getElementById('cpu-side').className = 'cpu-side';
            document.getElementById('history-list').innerHTML = '<p style="color:var(--text-secondary);text-align:center;padding:1rem;">Play some rounds to see your history!</p>';
        }

        document.addEventListener('keydown', e => {
            if (e.key === 'r' || e.key === 'R') play('rock');
            if (e.key === 'p' || e.key === 'P') play('paper');
            if (e.key === 's' || e.key === 'S') play('scissors');
        });
    </script>
</body>
</html>
